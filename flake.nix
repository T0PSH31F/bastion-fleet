{ description = "Bastion NixOS Fleet Management"; inputs = { nixpkgs.url = "github:NixOS/nixpkgs/nixos-unstable"; flake-parts.url = "github:hercules-ci/flake-parts"; clan-core.url = "github:clan/clan-core"; }; outputs = { self, nixpkgs, flake-parts, clan-core, ... }@inputs: flake-parts.lib.mkFlake { inherit inputs; } ({ config, pkgs, ... }: { systems = [ "x86_64-linux" ]; perSystem = { config, pkgs, ... }: { packages.default = pkgs.writeShellScript "deploy-lg-gram" "${pkgs.nixos-anywhere}/bin/nixos-anywhere --flake .#lg-gram t0psh31f@97.167.11.111"; }; flake.nixosConfigurations."lg-gram" = nixpkgs.lib.nixosSystem { system = "x86_64-linux"; modules = [ ./lg-gram/configuration.nix ]; }; }); }
